{% extends "_base.html" %}
{% import "macros.html" as macros %}

{% block title %}{{ maintainer }} maintainer information - Repology{% endblock %}
{% block header %}Maintainer <strong>{{ maintainer }}</strong>{% endblock %}
{% block description %}Information on package maintainer {{ maintainer }}{% endblock %}
{% block keywords %}{{ super()}}, maintainer{% endblock %}

{% block content %}
<div class="container">

{% if maintainer is fallback_maintainer %}
<h2>Note</h2>
<p>
	This is a synthetic fallback maintainer generated by Repology for packages which have no real maintainers known, either because there's no maintainer defined in the repository or because such information is not available for Repology.
</p>
{% endif %}

{% if maintainer|maintainer_to_links %}
<h2>Contact</h2>
<ul>
{% for link in maintainer|maintainer_to_links %}
{% if link.startswith('mailto:') %}
	<li><b>E-Mail:</b> <a href="{{ link }}">{{ maintainer }}</a></li>
{% else %}
	<li><b>WWW:</b> <a href="{{ link }}">{{ link }}</a></li>
{% endif %}
{% endfor %}
</ul>
{% endif %}

<h2>Repository activity</h2>

<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th class="text-right" rowspan="2">Repository</th>
			<th class="text-center" rowspan="2">Packages</th>
			<th class="text-center" colspan="10">Projects</th>
			<th class="text-center" rowspan="2">Feeds</th>
		</tr>
		<tr>
			<th class="text-center">Total</th>
			<th class="text-center" colspan="2">Newest</th>
			<th class="text-center" colspan="2">Outdated</th>
			<th class="text-center" colspan="2">Problematic</th>
			<th class="text-center" colspan="2">Potentially vulnerable</th>
			<th class="text-center">Other lists</th>
		</tr>
	</thead>
	<tbody>
	{% for repoinfo in per_repo_info %}
		<tr>
			<td class="text-right break-word">
				<a href="{{ url_for('repository', repo=repoinfo.repo) }}">
					{{- repometadata[repoinfo.repo].desc -}}
				</a>
			</td>
			<td class="text-center total-cell">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo) }}">
					{{- repoinfo.num_packages -}}
				</a>
			</td>
			<td class="text-center total-cell">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo) }}">
					{{- repoinfo.num_projects -}}
				</a>
			</td>
			{%- if repoinfo.num_projects_newest -%}
			<td class="text-center version-cell version-big version-newest">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, newest=1) }}">
					{{- repoinfo.num_projects_newest -}}
				</a>
			</td>
			<td class="text-center version-cell version-big version-newest">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, newest=1) }}">
					{{- macros.safe_percent(repoinfo.num_projects_newest, repoinfo.num_projects) -}}
				</a>
			</td>
			{%- else -%}<td class="text-center" colspan="2">-</td>{%- endif -%}
			{%- if repoinfo.num_projects_outdated -%}
			<td class="text-center version-cell version-big version-outdated">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, outdated=1) }}">
					{{- repoinfo.num_projects_outdated -}}
				</a>
			</td>
			<td class="text-center version-cell version-big version-outdated">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, outdated=1) }}">
					{{- macros.safe_percent(repoinfo.num_projects_outdated, repoinfo.num_projects) -}}
				</a>
			</td>
			{%- else -%}<td class="text-center" colspan="2">-</td>{%- endif -%}
			{%- if repoinfo.num_projects_problematic -%}
			<td class="text-center version-cell version-big version-ignored">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, problematic=1) }}">
					{{- repoinfo.num_projects_problematic -}}
				</a>
			</td>
			<td class="text-center version-cell version-big version-ignored">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, problematic=1) }}">
					{{- macros.safe_percent(repoinfo.num_projects_problematic, repoinfo.num_projects) -}}
				</a>
			</td>
			{%- else -%}<td class="text-center" colspan="2">-</td>{%- endif -%}
			{%- if repoinfo.num_projects_vulnerable -%}
			<td class="text-center vulnerable-cell">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, vulnerable=1) }}">
					{{- repoinfo.num_projects_vulnerable -}}
				</a>
			</td>
			<td class="text-center vulnerable-cell">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, vulnerable=1) }}">
					{{- macros.safe_percent(repoinfo.num_projects_vulnerable, repoinfo.num_projects, 2) -}}
				</a>
			</td>
			{%- else -%}<td class="text-center" colspan="2">-</td>{%- endif -%}
			<td class="text-center">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, outdated=1, families_newest='2-') }}"
					title="High confidence (newest in 2 or more other repository families) outdated packages">HCO</a>
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, newest=1, families_newest=1) }}"
					title="Lone (not present in other repository families, so may be either very fresh or incorrect) newest versions">LN</a>
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, has_related=1) }}"
					title="Packages which have related ones (may require merging)">∗</a>
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=repoinfo.repo, families=1) }}"
					title="Unique packages (not present in other repository families)">U</a>
				<a href="{{ url_for('maintainer_problems', maintainer=maintainer, repo=repoinfo.repo) }}">Problems</a>
			</td>
			<td class="text-center">
				<a href="{{ url_for('maintainer_repo_feed', maintainer=maintainer, repo=repoinfo.repo) }}">html</a>,
				<a href="{{ url_for('maintainer_repo_feed_atom', maintainer=maintainer, repo=repoinfo.repo) }}">atom<img src="{{ url_for('static', filename='feed.v1.svg') }}" width="16" height="16" alt="Atom feed"></a>
			</td>
		</tr>
	{% endfor %}
		<tr><td colspan="14"></td></tr>
		<tr>
			<td class="text-right break-word total-cell">Total</td>
			<td class="text-center total-cell">
				<a href="{{ url_for('projects', maintainer=maintainer) }}">
					{{- maintainer_info.num_packages -}}
				</a>
			</td>
			<td class="text-center total-cell">
				<a href="{{ url_for('projects', maintainer=maintainer) }}">
					{{- maintainer_info.num_projects -}}
				</a>
			</td>
			{%- if maintainer_info.num_projects_newest -%}
			<td class="text-center version-cell version-big version-newest">
				<a href="{{ url_for('projects', maintainer=maintainer, newest=1) }}">
					{{- maintainer_info.num_projects_newest -}}
				</a>
			</td>
			<td class="text-center version-cell version-big version-newest">
				<a href="{{ url_for('projects', maintainer=maintainer, newest=1) }}">
					{{- macros.safe_percent(maintainer_info.num_projects_newest, maintainer_info.num_projects) -}}
				</a>
			</td>
			{%- else -%}<td class="text-center" colspan="2">-</td>{%- endif -%}
			{%- if maintainer_info.num_projects_outdated -%}
			<td class="text-center version-cell version-big version-outdated">
				<a href="{{ url_for('projects', maintainer=maintainer, outdated=1) }}">
					{{- maintainer_info.num_projects_outdated -}}
				</a>
			</td>
			<td class="text-center version-cell version-big version-outdated">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=maintainer_info.repo, outdated=1) }}">
					{{- macros.safe_percent(maintainer_info.num_projects_outdated, maintainer_info.num_projects) -}}
				</a>
			</td>
			{%- else -%}<td class="text-center" colspan="2">-</td>{%- endif -%}
			{%- if maintainer_info.num_projects_problematic -%}
			<td class="text-center version-cell version-big version-ignored">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=maintainer_info.repo, problematic=1) }}">
					{{- maintainer_info.num_projects_problematic -}}
				</a>
			</td>
			<td class="text-center version-cell version-big version-ignored">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=maintainer_info.repo, problematic=1) }}">
					{{- macros.safe_percent(maintainer_info.num_projects_problematic, maintainer_info.num_projects) -}}
				</a>
			</td>
			{%- else -%}<td class="text-center" colspan="2">-</td>{%- endif -%}
			{%- if maintainer_info.num_projects_vulnerable -%}
			<td class="text-center vulnerable-cell">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=maintainer_info.repo, vulnerable=1) }}">
					{{- maintainer_info.num_projects_vulnerable -}}
				</a>
			</td>
			<td class="text-center vulnerable-cell">
				<a href="{{ url_for('projects', maintainer=maintainer, inrepo=maintainer_info.repo, vulnerable=1) }}">
					{{- macros.safe_percent(maintainer_info.num_projects_vulnerable, maintainer_info.num_projects, 2) -}}
				</a>
			</td>
			{%- else -%}<td class="text-center" colspan="2">-</td>{%- endif -%}
			<td class="text-center">
				<a href="{{ url_for('projects', maintainer=maintainer, outdated=1, families_newest='2-') }}"
					title="High confidence (newest in 2 or more other repository families) outdated packages">HCO</a>
				<a href="{{ url_for('projects', maintainer=maintainer, newest=1, families_newest=1) }}"
					title="Lone (not present in other repository families) newest versions">LN</a>
				<a href="{{ url_for('projects', maintainer=maintainer, has_related=1) }}"
					title="Packages which have related ones (may require merging)">∗</a>
				<a href="{{ url_for('projects', maintainer=maintainer, families=1) }}"
					title="Unique packages (not present in other repository families)">U</a>
			</td>
			<td class="text-center"></td>
		</tr>
	</tbody>
</table>

{% if maintainer_info.num_projects_per_category %}
<h2>Categories</h2>

<p>This maintainer is active in the following package categories:</p>

<ul>
	{% for num,category in maintainer_info.num_projects_per_category|sort(reverse=True) %}
	<li>
		<strong>{{ category }}</strong> (<a href="{{ url_for('projects', category=category, maintainer=maintainer) }}">{{ num }}</a>)
	</li>
	{% endfor %}
</ul>
{% endif %}

<h2>Projects</h2>

<p>
{%- for metapackage in metapackages -%}
	{%- if not loop.first %}, {% endif -%}
	<a href="{{ url_for('project_versions', name=metapackage) }}">
		{{- metapackage -}}
	</a>
{%- endfor -%}
{%- if metapackages|length < maintainer_info.num_projects -%}
	, …
{%- endif -%}
</p>

{% if similar_maintainers %}
<h2>Similar maintainers</h2>

<div class="row">
{% for column in similar_maintainers|slice(2) %}
{% if column %}
<div class="col-md-6">
	<table class="table table-striped">
		<thead>
			<tr>
				<th class="text-right">Maintainer</th>
				<th class="text-center">Score</th>
				<th class="text-center">Common projects</th>
			</tr>
		</thead>
		<tbody>
		{% for similar_maintainer in column %}
			<tr>
				<td class="text-right"><a href="{{ url_for('maintainer', maintainer=similar_maintainer.maintainer) }}">{{ similar_maintainer.maintainer}}</a></td>
				<td class="text-center">{{ similar_maintainer.match|round(2) }}</td>
				<td class="text-center">{{ similar_maintainer.count }}</td>
			</tr>
		{% endfor %}
		</tbody>
	</table>
</div>
{% endif %}
{% endfor %}
</div>
{% endif %}

</div>
{% endblock %}
